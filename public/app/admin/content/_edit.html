<h2>Edit Content</h2>

<form class="ui form" ng-submit="save()">

    <div ng-if="message" class="ui negative message">
        <div class="header">We had some issues</div>
        <ul class="list">
            <li ng-repeat="m in message" ng-bind="m"></li>

        </ul>
    </div>

    <h4 class="ui dividing header">User Information</h4>

    <div class="field">
        <label>Title</label>
        <input ng-model="self.content.title" type="text" placeholder="Title" required="required">
    </div>

    <div class="field">
        <label>Content</label>
        <textarea ng-model="self.content.content" placeholder="Content" required="required" ui-tinymce="self.mceOptions"></textarea>
    </div>


    <div class="field">
        <label>Category</label>

        <div class="ui floating dropdown upward labeled icon button">
            <i class="world icon"></i>
            <span ng-if="!self.content.category" class="text">Select Category</span>
            <span ng-if="self.content.category" class="text">
                <span ng-if="self.content.category.parent">{{self.content.category.parent.name}} - </span>
                {{self.content.category.name}}
            </span>


            <div class="menu">
                <div class="item" ng-repeat-start="category in self.categories" ng-click="self.content.category = category">
                    {{category.name}}
                </div>
                <div class="item"  style="text-indent: 2em;" ng-repeat="subcat in category.children" ng-click="self.content.category = subcat">
                    {{category.name}}-{{subcat.name}}
                </div>
                <div ng-repeat-end=""></div>
            </div>
        </div>
    </div>

    <button type="submit" class="ui primary submit button">Save</button>
    <button type="button" ui-sref="home" class="ui submit button">Cancel</button>
</form>